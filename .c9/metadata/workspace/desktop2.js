{"changed":true,"filter":false,"title":"desktop2.js","tooltip":"/desktop2.js","value":"\"use strict\";\n\nvar Project = {\n    \n    thumbImages: [],\n    windowDiv: undefined,\n    counter:0,\n    \n    init: function(){\n       \n        var footer = document.getElementById(\"footer\");\n        \n        var iconDiv = document.createElement(\"div\");\n        footer.appendChild(iconDiv);\n\n        var iconImage = document.createElement(\"img\");\n        iconImage.setAttribute(\"src\", \"pics/icon.jpg\");\n        iconImage.className = \"iconSettings\";\n        //iconDiv.appendChild(iconImage);\n        \n        var iconInfo = document.createElement(\"a\");\n        iconInfo.setAttribute(\"href\", \"#\");\n        iconInfo.appendChild(iconImage);\n        iconDiv.appendChild(iconInfo);\n        \n          \n        iconImage.onclick = function(){\n           \n            Project.counter++;\n            if(Project.counter>1){\n                return false;\n            }\n             var imageContainer = document.getElementById(\"container\");\n        \n        \n        Project.windowDiv = document.createElement(\"div\");\n        Project.windowDiv.setAttribute(\"Id\", \"windowDiv\");\n        imageContainer.appendChild(Project.windowDiv);\n\n        var windowHeader = document.createElement(\"div\");\n        windowHeader.setAttribute(\"Id\", \"windowHeader\");\n        Project.windowDiv.appendChild(windowHeader);\n\n        var headerText = document.createElement(\"p\");\n        headerText.setAttribute(\"Id\", \"headerText\");\n        windowHeader.appendChild(headerText);\n        headerText.innerHTML = \"Image Viewer\";\n         \n    \n       \n        var headerImage = document.createElement(\"img\");\n        headerImage.setAttribute(\"src\", \"pics/windows_close_program_98973.jpg\");\n        headerImage.setAttribute(\"Id\", \"headerImage\");\n        \n        var closeLink = document.createElement(\"a\");\n        closeLink.setAttribute(\"href\", \"#\");\n        closeLink.onclick= function(){\n            //console.log(\"click\");\n            Project.counter = 0;\n            imageContainer.removeChild(Project.windowDiv);\n        };\n        \n       windowHeader.appendChild(closeLink);\n       closeLink.appendChild(headerImage);\n     \n        \n          \n        var loadingImg =document.createElement(\"img\");\n        loadingImg.setAttribute(\"src\", \"pics/loading2.gif\");\n        loadingImg.setAttribute(\"Id\", \"loadingImg\");\n        \n        windowHeader.appendChild(loadingImg);\n     \n       \n       \n        console.log(\"there\");\n        \n        Project.getImages();\n        \n        \n        };\n    \n    },\n    \n      getImages: function() {\n         console.log(\"you\");\n        var loadingIcon = document.getElementById(\"loadingImg\");\n        console.log(loadingIcon);\n        var xhr= new XMLHttpRequest();\n     \n         xhr.addEventListener(\"readystatechange\", function() {\n            console.log(xhr.readyState);\n        }, false);\n        xhr.onreadystatechange = function(e){\n            console.log(\"are\");\n            if(xhr.readyState == 4){\n                console.log(xhr.status);\n                if(xhr.status == 200){\n                    console.log(xhr.responseText);\n                    loadingIcon.parentNode.removeChild(loadingIcon);\n                    console.log(loadingIcon);\n                    Project.thumbImages = JSON.parse(xhr.responseText);\n                    console.log(Project.thumbImages);\n                    console.log(\"here\");\n                    Project.displayImages();\n               }\n                }\n            };\n        xhr.open('GET', \"http://homepage.lnu.se/staff/tstjo/labbyServer/imgviewer/\", true);\n        xhr.send(null);\n        },\n          \n           displayImages: function(){\n            console.log(\"Displayimages\");\n            console.log(Project.thumbImages);\n            \n            var maxWidth=0;\n            var maxHeight=0;\n            var thumbImageInfo;\n            var setImageLink;\n            var thumbImg;\n            var thumbDiv;\n             for(var i = 0; i<Project.thumbImages.length;i++){\n                        thumbImageInfo=Project.thumbImages[i];\n                       // thumbImageInfo.i = i;\n                        \n                        \n                        thumbDiv = document.createElement(\"div\");\n                        thumbDiv.setAttribute(\"Id\", \"thumbDiv\");\n                        thumbImg = document.createElement(\"img\");\n                        thumbImg.setAttribute(\"src\", thumbImageInfo.thumbURL);\n                      \n                \n                        \n                        setImageLink = document.createElement(\"a\");\n                        setImageLink.setAttribute(\"href\", \"#\");\n                        setImageLink.setAttribute(\"Id\", \"setImageLink\");\n                        //setImageLink.url=Project.thumbImages[i].URL;\n                        \n                        Project.changeDesktop(Project.thumbImages[i].URL, setImageLink);\n                     \n                        thumbDiv.appendChild(setImageLink);\n                        setImageLink.appendChild(thumbImg);\n                       \n                        Project.windowDiv.appendChild(thumbDiv);\n                        \n                        if(Project.thumbImages[i].thumbWidth> maxWidth){\n                            maxWidth = Project.thumbImages[i].thumbWidth;\n                        }\n                        \n                        if(Project.thumbImages[i].thumbHeight>maxHeight){\n                            maxHeight = Project.thumbImages[i].thumbHeight;\n                        }\n                        //Project.changeDesktop(Project.thumbImages[i].URL, setImageLink);\n                        \n                        thumbDiv.style.height = maxHeight + \"px\";\n                        thumbDiv.style.width = maxWidth + \"px\";\n                        \n                        //Project.changeDesktop();\n                        \n                       \n                       }\n                      \n                      \n    \n             },\n             \n             \n          \n             \n          changeDesktop: function(image, link){\n              console.log(\"Change\");\n              link.onclick = function(){\n                  document.getElementById(\"main\").style.background = \"url('\" + image +\"')\";\n              };\n             \n           \n             \n              \n           \n          \n          },\n        \n};\n\nwindow.onload=Project.init;\n\n","undoManager":{"mark":74,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":172,"column":44},"end":{"row":172,"column":45},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":45},"end":{"row":172,"column":46},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":46},"end":{"row":172,"column":47},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":47},"end":{"row":172,"column":48},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":48},"end":{"row":172,"column":49},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":49},"end":{"row":172,"column":50},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":50},"end":{"row":172,"column":51},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":51},"end":{"row":172,"column":52},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":54},"end":{"row":172,"column":55},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":55},"end":{"row":172,"column":56},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":56},"end":{"row":172,"column":57},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":57},"end":{"row":172,"column":58},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":58},"end":{"row":172,"column":59},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":59},"end":{"row":172,"column":60},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":60},"end":{"row":172,"column":61},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":61},"end":{"row":172,"column":62},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":62},"end":{"row":172,"column":63},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":63},"end":{"row":172,"column":64},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":64},"end":{"row":172,"column":65},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":65},"end":{"row":172,"column":66},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":66},"end":{"row":172,"column":67},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":67},"end":{"row":172,"column":68},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":68},"end":{"row":172,"column":69},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":69},"end":{"row":172,"column":70},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":70},"end":{"row":172,"column":71},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":71},"end":{"row":172,"column":72},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":72},"end":{"row":172,"column":73},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":73},"end":{"row":172,"column":74},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":74},"end":{"row":172,"column":76},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":75},"end":{"row":172,"column":76},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":76},"end":{"row":172,"column":77},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":77},"end":{"row":172,"column":78},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":78},"end":{"row":172,"column":79},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":79},"end":{"row":172,"column":80},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":81},"end":{"row":172,"column":82},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":82},"end":{"row":172,"column":83},"action":"insert","lines":["+"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":83},"end":{"row":172,"column":84},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":84},"end":{"row":172,"column":85},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":85},"end":{"row":172,"column":86},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":86},"end":{"row":172,"column":87},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":87},"end":{"row":172,"column":88},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":88},"end":{"row":172,"column":89},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":89},"end":{"row":172,"column":90},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":90},"end":{"row":172,"column":91},"action":"insert","lines":["+"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":91},"end":{"row":172,"column":93},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":92},"end":{"row":172,"column":93},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":93},"end":{"row":172,"column":94},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":95},"end":{"row":172,"column":96},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":173,"column":15},"end":{"row":173,"column":16},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":51},"end":{"row":172,"column":52},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":50},"end":{"row":172,"column":51},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":49},"end":{"row":172,"column":50},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":48},"end":{"row":172,"column":49},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":47},"end":{"row":172,"column":48},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":46},"end":{"row":172,"column":47},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":45},"end":{"row":172,"column":46},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":44},"end":{"row":172,"column":45},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":43},"end":{"row":172,"column":44},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":43},"end":{"row":172,"column":44},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":44},"end":{"row":172,"column":45},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":45},"end":{"row":172,"column":46},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":46},"end":{"row":172,"column":47},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":47},"end":{"row":172,"column":48},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":48},"end":{"row":172,"column":49},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":49},"end":{"row":172,"column":50},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":49},"end":{"row":172,"column":50},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":48},"end":{"row":172,"column":49},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":47},"end":{"row":172,"column":48},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":46},"end":{"row":172,"column":47},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":45},"end":{"row":172,"column":46},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":44},"end":{"row":172,"column":45},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":43},"end":{"row":172,"column":44},"action":"remove","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":43},"end":{"row":172,"column":44},"action":"insert","lines":["m"]},{"start":{"row":172,"column":44},"end":{"row":172,"column":45},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":45},"end":{"row":172,"column":46},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":172,"column":46},"end":{"row":172,"column":47},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":165,"column":15},"end":{"row":166,"column":0},"action":"insert","lines":["",""]},{"start":{"row":166,"column":0},"end":{"row":166,"column":13},"action":"insert","lines":["             "]},{"start":{"row":166,"column":13},"end":{"row":167,"column":0},"action":"insert","lines":["",""]},{"start":{"row":167,"column":0},"end":{"row":167,"column":13},"action":"insert","lines":["             "]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":13},"end":{"row":167,"column":14},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":14},"end":{"row":167,"column":15},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":15},"end":{"row":167,"column":16},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":16},"end":{"row":167,"column":17},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":17},"end":{"row":167,"column":18},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":18},"end":{"row":167,"column":19},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":19},"end":{"row":167,"column":20},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":20},"end":{"row":167,"column":21},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":21},"end":{"row":167,"column":22},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":22},"end":{"row":167,"column":23},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":22},"end":{"row":167,"column":23},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":21},"end":{"row":167,"column":22},"action":"remove","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":20},"end":{"row":167,"column":21},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":19},"end":{"row":167,"column":20},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":18},"end":{"row":167,"column":19},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":17},"end":{"row":167,"column":18},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":16},"end":{"row":167,"column":17},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":15},"end":{"row":167,"column":16},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":14},"end":{"row":167,"column":15},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":13},"end":{"row":167,"column":14},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":12},"end":{"row":167,"column":13},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":8},"end":{"row":167,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":4},"end":{"row":167,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":167,"column":0},"end":{"row":167,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":13},"end":{"row":167,"column":0},"action":"remove","lines":["",""]}]}]]},"ace":{"folds":[],"scrolltop":2100,"scrollleft":0,"selection":{"start":{"row":166,"column":13},"end":{"row":166,"column":13},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":20,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1421148207000}