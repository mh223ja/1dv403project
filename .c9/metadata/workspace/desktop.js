{"changed":true,"filter":false,"title":"desktop.js","tooltip":"/desktop.js","value":"/*global*/\n\"use strict\";\nvar Project = {\n\n    thumbImages: [],\n    background: null,\n    windowDiv:undefined,\n    container: undefined,\n    //thumbImg: undefined,\n    counter:0,\n    \n    init: function() {\n        console.log(\"hi\");\n       Project.renderDesktop(); //initialize and set up desktop\n       //Project.renderWindow();\n       //Project.getImages();\n        //Project.changeImage();\n    },\n\n\n    renderDesktop: function() {\n        \n        //set up basic desktop layout with icon at bottom\n    \n        var footer = document.getElementById(\"footer\");\n        \n        var iconDiv = document.createElement(\"div\");\n        footer.appendChild(iconDiv);\n\n        var iconImage = document.createElement(\"img\");\n        iconImage.setAttribute(\"src\", \"pics/icon.jpg\");\n        iconImage.className = \"iconSettings\";\n        //iconDiv.appendChild(iconImage);\n        \n        var iconInfo = document.createElement(\"a\");\n        iconInfo.setAttribute(\"href\", \"#\");\n        //iconInfo.addEventListener(\"click\", Project.renderWindow());\n        //iconImage.appendChild(imageInfo);\n        iconInfo.appendChild(iconImage);\n        iconDiv.appendChild(iconInfo);\n      \n    \n        var desktopText = document.createElement(\"p\");\n        desktopText.className = \"textSettings\";\n        footer.appendChild(desktopText);\n        desktopText.innerHTML = \"Morgan's fab desktop gallery\";\n        \n        //adds window on icon click\n        \n        iconImage.onclick = function(){\n            Project.counter++;\n            if(Project.counter>1){\n                return false;\n            }\n           \n           \n          \n            \n        };\n    },\n\n    renderWindow: function() {\n        console.log(\"here\");\n  \n        //var windowDiv = window.open(\"toolbar = no, location = no, status = no, menubar = no, scrollbars=yes, resizable=yes, width = 40%, height = 40%\");\n    \n        var imageContainer = document.getElementById(\"container\");\n        \n        \n        Project.windowDiv = document.createElement(\"div\");\n        Project.windowDiv.setAttribute(\"Id\", \"windowDiv\");\n        imageContainer.appendChild(Project.windowDiv);\n\n        var windowHeader = document.createElement(\"div\");\n        windowHeader.setAttribute(\"Id\", \"windowHeader\");\n        Project.windowDiv.appendChild(windowHeader);\n\n        var headerText = document.createElement(\"p\");\n        headerText.setAttribute(\"Id\", \"headerText\");\n        windowHeader.appendChild(headerText);\n        headerText.innerHTML = \"Image Viewer\";\n         \n        var closeWindow = document.createElement(\"a\");\n        closeWindow.setAttribute(\"href\", \"#\");\n        closeWindow.onclick= function(){\n            Project.counter = 0;\n            imageContainer.removeChild(Project.windowDiv);\n        };\n       \n        var headerImage = document.createElement(\"img\");\n        headerImage.setAttribute(\"src\", \"pics/windows_close_program_98973.jpg\");\n        headerImage.setAttribute(\"Id\", \"headerImage\");\n        //closeWindow.addEventListener(\"click\", function() {  \n            //imageContainer.removeChild(Project.windowDiv);\n      //  });\n       //headerImage.appendChild(closeWindow);\n        \n       /* closeWindow.onclick= function(){\n            imageContainer.removeChild(Project.windowDiv);\n        };*/\n        \n          \n        var loadingImg =document.createElement(\"img\");\n        loadingImg.setAttribute(\"src\", \"pics/loading2.gif\");\n        loadingImg.setAttribute(\"Id\", \"loadingImg\");\n        \n        windowHeader.appendChild(loadingImg);\n        windowHeader.appendChild(headerImage);\n        headerImage.appendChild(closeWindow);\n       \n       \n        console.log(\"there\");\n        \n        Project.getImages();\n      \n    },\n\n     getImages: function() {\n         console.log(\"you\");\n        var xhr= new XMLHttpRequest();\n       // xhr.open('GET', \"http://homepage.lnu.se/staff/tstjo/labbyServer/imgviewer/\", true);\n       // xhr.send(null);\n        //xhr.setRequestHeader(\"content-type\", \"application/json\");\n         xhr.addEventListener(\"readystatechange\", function() {\n            console.log(xhr.readyState);\n        }, false);\n        xhr.onreadystatechange = function(e){\n            console.log(\"are\");\n            if(xhr.readyState == 4){\n                console.log(xhr.status);\n                if(xhr.status == 200){\n                    console.log(xhr.responseText);\n                    Project.thumbImages = JSON.parse(xhr.responseText);\n                    console.log(Project.thumbImages);\n                    console.log(\"here\");\n                    Project.displayImages();\n               }\n                }\n            };\n        xhr.open('GET', \"http://homepage.lnu.se/staff/tstjo/labbyServer/imgviewer/\", true);\n        xhr.send(null);\n        },\n        \n        displayImages: function(){\n            console.log(\"Displayimages\");\n            console.log(Project.thumbImages);\n            \n            var imageMaxWidth = 0;\n            var imageMaxHeight = 0;\n            var thumbImageInfo;\n            var setImageLink;\n            var thumbImg;\n            var thumbDiv;\n             for(var i = 0; i<Project.thumbImages.length;i++){\n                        thumbImageInfo=Project.thumbImages[i];\n                        thumbImageInfo.i = i;\n                        \n                        console.log(thumbImageInfo.thumbWidth);\n                        thumbDiv = document.createElement(\"div\");\n                        thumbDiv.setAttribute(\"Id\", \"thumbDiv\");\n                        thumbImg = document.createElement(\"img\");\n                        thumbImg.setAttribute(\"src\", thumbImageInfo.thumbURL);\n                        //thumbImg.addEventListener(MouseEvent.Click, Project.changeDesktop(this.i));\n                        //thumbImg.style.maxWidth=thumbImageInfo.thumbWidth;\n                        //thumbImg.style.maxHeight=thumbImageInfo.thumbHeight;\n                        Project.windowDiv.appendChild(thumbDiv);\n                        thumbDiv.appendChild(thumbImg);\n                        \n                        setImageLink = document.createElement(\"a\");\n                        setImageLink.setAttribute(\"href\", \"#\");\n                        //setImageLink.url=Project.thumbImages[i].URL;\n                        //setImageLink.onClick(Project.changeBackground);\n                        console.log(setImageLink);\n                        //setImageLink.addEventListener(\"click\", function(e){\n                            //Project.changeDesktop(thumbImg);\n                    \n                        thumbImg.appendChild(setImageLink);\n                       Project.changeDesktop(Project.thumbImages[i].URL, setImageLink);\n                       \n                       }\n        \n                       //Project.addOnClick(thumbImg);\n                     \n             },\n              // Project.addOnClick();\n             \n        \n      /* addOnClick: function(){\n            var clickDiv = document.getElementById(\"thumbDiv\");\n            console.log(clickDiv.a);\n            var link = clickDiv.a;\n            link.onmousedown = function(){\n                Project.changeDesktop();\n                \n                \n            };*/\n            \n                \n            \n            //var link = document.getElementById(\"imageDiv\");\n           // switchImages.onclick= function(){\n             //   document.getElementById(\"container\").style.backgroundImage = \"url('clickImage.URL')\";\n                \n                \n       \n        \n        \n        \n        changeDesktop: function(image, link){\n            \n            console.log(image);\n            console.log(link);\n            link.onclick=function(){\n                alert(\"click\");\n            document.getElementById(\"container\").style.background=\"url('image')\";\n           //var desktopContainer= document.getElementById(\"container\");\n            //var chosenThumbUrl = thumbImageInfo.URL;\n           // console.log(chosenThumbUrl) ;\n            \n           // desktopContainer.style.backgroundImage=\"url(\"chosenThumbUrl\")\";\n            \n            };\n}\n};\n\n\n    \nwindow.onload = Project.init;","undoManager":{"mark":99,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":212,"column":27},"end":{"row":212,"column":28},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":28},"end":{"row":212,"column":29},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":29},"end":{"row":212,"column":30},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":30},"end":{"row":212,"column":31},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":31},"end":{"row":212,"column":32},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":32},"end":{"row":212,"column":33},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":33},"end":{"row":212,"column":35},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":35},"end":{"row":212,"column":36},"action":"insert","lines":["{"]}]}],[{"group":"doc","deltas":[{"start":{"row":220,"column":8},"end":{"row":220,"column":9},"action":"insert","lines":["}"]},{"start":{"row":220,"column":0},"end":{"row":220,"column":8},"action":"remove","lines":["        "]},{"start":{"row":220,"column":0},"end":{"row":220,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":220,"column":13},"end":{"row":220,"column":14},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":188,"column":6},"end":{"row":188,"column":7},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":188,"column":7},"end":{"row":188,"column":8},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":14},"end":{"row":196,"column":15},"action":"insert","lines":["*"]}]}],[{"group":"doc","deltas":[{"start":{"row":196,"column":15},"end":{"row":196,"column":16},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":205,"column":8},"end":{"row":205,"column":9},"action":"remove","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":205,"column":7},"end":{"row":205,"column":8},"action":"remove","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":182,"column":23},"end":{"row":182,"column":24},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":182,"column":24},"end":{"row":182,"column":25},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":211,"column":31},"end":{"row":212,"column":0},"action":"insert","lines":["",""]},{"start":{"row":212,"column":0},"end":{"row":212,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":12},"end":{"row":212,"column":13},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":13},"end":{"row":212,"column":14},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":14},"end":{"row":212,"column":15},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":15},"end":{"row":212,"column":16},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":16},"end":{"row":212,"column":17},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":17},"end":{"row":212,"column":18},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":18},"end":{"row":212,"column":19},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":19},"end":{"row":212,"column":20},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":20},"end":{"row":212,"column":21},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":21},"end":{"row":212,"column":22},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":22},"end":{"row":212,"column":23},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":23},"end":{"row":212,"column":25},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":24},"end":{"row":212,"column":25},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":25},"end":{"row":212,"column":26},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":26},"end":{"row":212,"column":27},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":27},"end":{"row":212,"column":28},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":212,"column":29},"end":{"row":212,"column":30},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":71},"end":{"row":214,"column":72},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":85},"end":{"row":214,"column":86},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":87},"end":{"row":214,"column":88},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":88},"end":{"row":214,"column":89},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":89},"end":{"row":214,"column":90},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":90},"end":{"row":214,"column":91},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":91},"end":{"row":214,"column":92},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":92},"end":{"row":214,"column":93},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":87},"end":{"row":214,"column":88},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":85},"end":{"row":214,"column":86},"action":"remove","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":84},"end":{"row":214,"column":85},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":83},"end":{"row":214,"column":84},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":82},"end":{"row":214,"column":83},"action":"remove","lines":["+"]},{"start":{"row":214,"column":81},"end":{"row":214,"column":82},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":80},"end":{"row":214,"column":81},"action":"remove","lines":["e"]},{"start":{"row":214,"column":79},"end":{"row":214,"column":80},"action":"remove","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":78},"end":{"row":214,"column":79},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":77},"end":{"row":214,"column":78},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":76},"end":{"row":214,"column":77},"action":"remove","lines":["i"]},{"start":{"row":214,"column":75},"end":{"row":214,"column":76},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":74},"end":{"row":214,"column":75},"action":"remove","lines":["+"]},{"start":{"row":214,"column":73},"end":{"row":214,"column":74},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":72},"end":{"row":214,"column":73},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":71},"end":{"row":214,"column":72},"action":"remove","lines":["'"]},{"start":{"row":214,"column":70},"end":{"row":214,"column":72},"action":"remove","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":69},"end":{"row":214,"column":70},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":68},"end":{"row":214,"column":69},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":67},"end":{"row":214,"column":68},"action":"remove","lines":["u"]},{"start":{"row":214,"column":66},"end":{"row":214,"column":67},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":66},"end":{"row":214,"column":68},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":67},"end":{"row":214,"column":68},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":68},"end":{"row":214,"column":69},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":69},"end":{"row":214,"column":70},"action":"insert","lines":["รถ"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":69},"end":{"row":214,"column":70},"action":"remove","lines":["รถ"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":69},"end":{"row":214,"column":70},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":70},"end":{"row":214,"column":71},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":71},"end":{"row":214,"column":72},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":72},"end":{"row":214,"column":73},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":73},"end":{"row":214,"column":74},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":74},"end":{"row":214,"column":75},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":75},"end":{"row":214,"column":76},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":76},"end":{"row":214,"column":77},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":84},"end":{"row":214,"column":85},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":83},"end":{"row":214,"column":84},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":82},"end":{"row":214,"column":83},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":81},"end":{"row":214,"column":82},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":80},"end":{"row":214,"column":81},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":79},"end":{"row":214,"column":80},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":78},"end":{"row":214,"column":79},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":77},"end":{"row":214,"column":79},"action":"remove","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":77},"end":{"row":214,"column":78},"action":"remove","lines":[";"]},{"start":{"row":214,"column":77},"end":{"row":214,"column":78},"action":"insert","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":78},"end":{"row":214,"column":79},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":71},"end":{"row":214,"column":72},"action":"remove","lines":["i"]},{"start":{"row":214,"column":71},"end":{"row":214,"column":72},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":72},"end":{"row":214,"column":73},"action":"remove","lines":["m"]},{"start":{"row":214,"column":72},"end":{"row":214,"column":73},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":73},"end":{"row":214,"column":74},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":77},"end":{"row":214,"column":78},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":213,"column":36},"end":{"row":214,"column":0},"action":"insert","lines":["",""]},{"start":{"row":214,"column":0},"end":{"row":214,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":16},"end":{"row":214,"column":17},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":17},"end":{"row":214,"column":18},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":18},"end":{"row":214,"column":19},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":19},"end":{"row":214,"column":20},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":20},"end":{"row":214,"column":21},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":21},"end":{"row":214,"column":23},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":22},"end":{"row":214,"column":24},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":23},"end":{"row":214,"column":24},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":24},"end":{"row":214,"column":25},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":25},"end":{"row":214,"column":26},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":26},"end":{"row":214,"column":27},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":27},"end":{"row":214,"column":28},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":214,"column":30},"end":{"row":214,"column":31},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":11},"end":{"row":55,"column":34},"action":"remove","lines":[" ","           Project.renderWindow();"]}]}]]},"ace":{"folds":[],"customSyntax":"javascript","scrolltop":728,"scrollleft":0,"selection":{"start":{"row":66,"column":7},"end":{"row":115,"column":6},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1421136934485}